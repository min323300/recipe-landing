<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="naver-site-verification" content="d4841ad11206ec4d44b421391b1264d69c15f761" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë ˆë”§í”ŒëŸ¬ìŠ¤ - ìš”ë¦¬ë¶€í„° ì¬ë£Œ êµ¬ë§¤ê¹Œì§€</title>
    <meta name="description" content="ë ˆë”§í”ŒëŸ¬ìŠ¤ - ì˜ìƒìœ¼ë¡œ ë°°ìš°ê³ , ê¸€ë¡œ ìµíˆê³ , ì¬ë£ŒëŠ” ë°”ë¡œ êµ¬ë§¤! í•œì‹ ë ˆì‹œí”¼ë¶€í„° ê°„í¸ì‹ê¹Œì§€ ì‰½ê³  ë§›ìˆëŠ” ìš”ë¦¬ ë ˆì‹œí”¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
    <meta name="keywords" content="ë ˆì‹œí”¼, í•œì‹, ìš”ë¦¬, ì¿ íŒ¡, ì¬ë£Œêµ¬ë§¤, ê¹€ì¹˜ì°Œê°œ, ëœì¥ì°Œê°œ, ê°„í¸ì‹, ë ˆë”§í”ŒëŸ¬ìŠ¤">
    <meta name="author" content="ë ˆë”§í”ŒëŸ¬ìŠ¤">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:title" content="ë ˆë”§í”ŒëŸ¬ìŠ¤ - ìš”ë¦¬ë¶€í„° ì¬ë£Œ êµ¬ë§¤ê¹Œì§€">
    <meta property="og:description" content="ì˜ìƒìœ¼ë¡œ ë°°ìš°ê³ , ê¸€ë¡œ ìµíˆê³ , ì¬ë£ŒëŠ” ë°”ë¡œ êµ¬ë§¤! ì‰½ê³  ë§›ìˆëŠ” í•œì‹ ë ˆì‹œí”¼">
    <meta property="og:url" content="https://recipe.ncfood.kr">
    <meta property="og:image" content="https://recipe.ncfood.kr/images/1000.png">
    <meta property="og:site_name" content="ë ˆë”§í”ŒëŸ¬ìŠ¤">
    <meta property="og:locale" content="ko_KR">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --coupang-blue: #0073e9;
            --coupang-dark: #1a1a1a;
            --warm-orange: #ff6b35;
            --warm-red: #e63946;
            --cream: #fff8f0;
            --light-gray: #f5f5f5;
            --text-dark: #2d2d2d;
            --text-gray: #666;
            --shadow-soft: 0 4px 20px rgba(0,0,0,0.08);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.15);
            --radius: 16px;
            --radius-sm: 10px;
            --star-color: #ffc107;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(180deg, var(--cream) 0%, #fff 100%);
            color: var(--text-dark);
            min-height: 100vh;
        }

        .header {
            background: white;
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            background: var(--coupang-dark);
            padding: 8px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .coupang-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            font-weight: 700;
            font-size: 18px;
        }

        .coupang-logo-text {
            background: var(--coupang-blue);
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 14px;
        }

        .header-slogan { color: #aaa; font-size: 12px; }

        .header-main {
            padding: 16px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .site-title { text-align: center; margin-bottom: 16px; }

        .site-title h1 {
            font-size: 28px;
            font-weight: 900;
            color: var(--warm-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .site-title p { color: var(--text-gray); font-size: 14px; margin-top: 4px; }

        .stats-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #fff5f0 0%, #ffe8dc 100%);
            border-bottom: 1px solid #ffe0d0;
        }

        .stats-row {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-dark);
        }

        .stat-item .stat-icon { font-size: 16px; }
        .stat-item .stat-value { font-weight: 700; color: var(--warm-orange); }
        .stat-divider { width: 1px; height: 16px; background: #ddd; }

        .popular-recipes {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .popular-recipes .popular-label { font-weight: 600; color: var(--warm-red); }
        .popular-recipes .popular-list { display: flex; gap: 8px; }

        .popular-recipes .popular-item {
            background: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-dark);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.2s;
        }

        .popular-recipes .popular-item:hover { background: var(--warm-orange); color: white; }

        .search-container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 14px 50px 14px 20px;
            border: 2px solid #eee;
            border-radius: 50px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s;
            background: var(--light-gray);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--warm-orange);
            background: white;
            box-shadow: 0 0 0 4px rgba(255,107,53,0.1);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-gray);
            font-size: 20px;
        }

        .search-clear {
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            background: #ddd;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #666;
        }

        .search-clear.show { display: flex; }

        .categories-section {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .categories-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 10px 0;
            scrollbar-width: none;
        }

        .categories-scroll::-webkit-scrollbar { display: none; }

        .category-btn {
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: white;
            border: 2px solid #eee;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s;
            min-width: 100px;
        }

        .category-btn:hover { border-color: var(--warm-orange); transform: translateY(-2px); }

        .category-btn.active {
            background: var(--warm-orange);
            border-color: var(--warm-orange);
            color: white;
        }

        .category-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            background: var(--light-gray);
        }

        .category-btn.active .category-img { border: 2px solid white; }
        .category-emoji { font-size: 32px; line-height: 1; }
        .category-name { font-size: 13px; font-weight: 600; white-space: nowrap; }

        .recipes-section {
            padding: 0 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recipe-count { color: var(--text-gray); font-size: 14px; font-weight: 400; }

        .recipes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        .recipe-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            cursor: pointer;
            transition: all 0.3s;
        }

        .recipe-card:hover { transform: translateY(-6px); box-shadow: var(--shadow-hover); }

        .recipe-thumbnail {
            position: relative;
            width: 100%;
            height: 180px;
            background: var(--light-gray);
            overflow: hidden;
        }

        .recipe-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .recipe-card:hover .recipe-thumbnail img { transform: scale(1.05); }

        .recipe-thumbnail-emoji {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 72px;
            background: linear-gradient(135deg, #fff5f0 0%, #ffe8dc 100%);
        }

        .recipe-duration {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.75);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .recipe-clicks-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255,107,53,0.9);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* â­ ì¹´ë“œ ë³„ì  ë±ƒì§€ (ì‹ ê·œ) */
        .recipe-rating-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 3px;
        }

        .recipe-rating-badge .star-icon { color: var(--star-color); }

        .recipe-info { padding: 16px; }

        .recipe-category-tag {
            display: inline-block;
            background: rgba(255,107,53,0.1);
            color: var(--warm-orange);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .recipe-title { font-size: 18px; font-weight: 700; margin-bottom: 6px; line-height: 1.3; }

        .recipe-desc {
            color: var(--text-gray);
            font-size: 14px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .recipe-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #eee;
            flex-wrap: wrap;
        }

        .recipe-meta-item {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-gray);
        }

        .recipe-meta-item.products { color: var(--coupang-blue); font-weight: 600; }

        /* â­ ì¹´ë“œ ë‚´ ë³„ì  í‘œì‹œ (ì‹ ê·œ) */
        .recipe-meta-item.rating {
            color: var(--text-dark);
            font-weight: 600;
        }

        .recipe-meta-item.rating .stars-small { color: var(--star-color); font-size: 13px; letter-spacing: -1px; }
        .recipe-meta-item.rating .review-cnt { color: var(--text-gray); font-weight: 400; font-size: 11px; }

        /* ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.show { opacity: 1; visibility: visible; }

        .modal {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 95%;
            max-width: 800px;
            max-height: 90vh;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .modal-close {
            position: absolute;
            top: 16px; right: 16px;
            width: 40px; height: 40px;
            background: rgba(0,0,0,0.5);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .modal-close:hover { background: rgba(0,0,0,0.7); }

        .modal-content { max-height: 90vh; overflow-y: auto; }

        .modal-video {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background: #000;
        }

        .modal-video iframe {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
        }

        .modal-video-placeholder {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a1a1a 0%, #333 100%);
            color: white;
        }

        .modal-info { padding: 24px; }
        .modal-title { font-size: 24px; font-weight: 900; margin-bottom: 8px; }

        .modal-desc {
            color: var(--text-gray);
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .modal-links {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .modal-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: var(--radius-sm);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }

        .modal-link.youtube { background: #ff0000; color: white; }
        .modal-link.youtube:hover { background: #cc0000; }
        .modal-link.blog { background: var(--warm-orange); color: white; }
        .modal-link.blog:hover { background: #e55a2b; }

        .products-section { border-top: 1px solid #eee; padding-top: 24px; }

        .products-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .products-title { font-size: 18px; font-weight: 700; }

        .products-badge {
            background: var(--coupang-blue);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
        }

        .product-card {
            background: var(--light-gray);
            border-radius: var(--radius-sm);
            padding: 12px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .product-card:hover { background: #e8f4ff; transform: translateY(-2px); }

        .product-img {
            width: 80px; height: 80px;
            border-radius: 8px;
            object-fit: cover;
            background: white;
            margin-bottom: 10px;
        }

        .product-emoji {
            width: 80px; height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .product-name { font-size: 13px; font-weight: 600; margin-bottom: 4px; line-height: 1.3; }
        .product-price { font-size: 14px; font-weight: 700; color: var(--warm-red); }
        .product-shop { font-size: 11px; color: var(--coupang-blue); margin-top: 4px; }

        /* ============================================
           â­ ë¦¬ë·° ì„¹ì…˜ ìŠ¤íƒ€ì¼ (ì‹ ê·œ)
           ============================================ */
        .review-section {
            border-top: 1px solid #eee;
            padding-top: 24px;
            margin-top: 4px;
        }

        .review-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .review-title-group { display: flex; align-items: center; gap: 12px; }
        .review-title { font-size: 18px; font-weight: 700; }

        .review-avg-score {
            display: flex;
            align-items: center;
            gap: 6px;
            background: #fff9e6;
            padding: 6px 14px;
            border-radius: 20px;
            border: 1px solid #ffe082;
        }

        .review-avg-score .avg-num {
            font-size: 20px;
            font-weight: 900;
            color: #f57f17;
        }

        .review-avg-score .stars-display { color: var(--star-color); font-size: 16px; }
        .review-avg-score .review-total { font-size: 12px; color: var(--text-gray); }

        /* ë¦¬ë·° ì‘ì„± í¼ */
        .review-form-wrap {
            background: #fff9f5;
            border: 1.5px solid #ffe0d0;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
        }

        .review-form-title {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 14px;
            color: var(--warm-orange);
        }

        /* ë³„ì  ì„ íƒ */
        .star-rating-input {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 14px;
        }

        .star-rating-input .label { font-size: 14px; font-weight: 600; color: var(--text-dark); min-width: 40px; }

        .stars-select {
            display: flex;
            flex-direction: row-reverse;
            gap: 2px;
        }

        .stars-select input { display: none; }

        .stars-select label {
            font-size: 28px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.15s;
            line-height: 1;
        }

        .stars-select input:checked ~ label,
        .stars-select label:hover,
        .stars-select label:hover ~ label {
            color: var(--star-color);
        }

        .review-form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .review-nickname-input {
            flex: 1;
            padding: 10px 14px;
            border: 1.5px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .review-nickname-input:focus { outline: none; border-color: var(--warm-orange); }

        .review-textarea {
            width: 100%;
            padding: 12px 14px;
            border: 1.5px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
            min-height: 80px;
            transition: border-color 0.2s;
            margin-bottom: 12px;
        }

        .review-textarea:focus { outline: none; border-color: var(--warm-orange); }

        .review-submit-btn {
            background: var(--warm-orange);
            color: white;
            border: none;
            padding: 11px 28px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.2s;
            width: 100%;
        }

        .review-submit-btn:hover { background: #e55a2b; }
        .review-submit-btn:disabled { background: #ccc; cursor: not-allowed; }

        .review-message {
            margin-top: 10px;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            display: none;
        }

        .review-message.success { background: #e8f5e9; color: #2e7d32; display: block; }
        .review-message.error { background: #fdecea; color: #c62828; display: block; }

        /* ë¦¬ë·° ëª©ë¡ */
        .review-list { display: flex; flex-direction: column; gap: 14px; }

        .review-item {
            background: white;
            border: 1px solid #eee;
            border-radius: var(--radius-sm);
            padding: 16px;
        }

        .review-item-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .review-item-left { display: flex; align-items: center; gap: 10px; }

        .review-nickname {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .review-stars { color: var(--star-color); font-size: 15px; letter-spacing: -1px; }
        .review-date { font-size: 12px; color: var(--text-gray); }
        .review-content { font-size: 14px; color: var(--text-dark); line-height: 1.6; }

        /* â­ ê´€ë¦¬ì ë‹µê¸€ (ì‹ ê·œ) */
        .admin-reply {
            margin-top: 10px;
            background: linear-gradient(135deg, #fff5f0 0%, #ffe8dc 100%);
            border-left: 3px solid var(--warm-orange);
            border-radius: 0 8px 8px 0;
            padding: 10px 14px;
            display: flex;
            gap: 8px;
            align-items: flex-start;
        }

        .admin-reply-icon {
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .admin-reply-content { flex: 1; }

        .admin-reply-label {
            font-size: 11px;
            font-weight: 700;
            color: var(--warm-orange);
            margin-bottom: 4px;
        }

        .admin-reply-text {
            font-size: 13px;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .review-empty {
            text-align: center;
            padding: 30px;
            color: var(--text-gray);
            font-size: 14px;
            background: #fafafa;
            border-radius: var(--radius-sm);
        }

        .review-loading {
            text-align: center;
            padding: 20px;
            color: var(--text-gray);
            font-size: 14px;
        }

        /* ë³„ì  ë Œë” */
        .star-filled { color: var(--star-color); }
        .star-empty { color: #ddd; }

        /* ë¡œë”©/ì—ëŸ¬ */
        .loading { text-align: center; padding: 60px 20px; color: var(--text-gray); }

        .loading-spinner {
            width: 40px; height: 40px;
            border: 3px solid #eee;
            border-top-color: var(--warm-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        .empty-state { text-align: center; padding: 60px 20px; color: var(--text-gray); }
        .empty-state-emoji { font-size: 64px; margin-bottom: 16px; }
        .empty-state-text { font-size: 16px; }

        /* íˆì–´ë¡œ */
        .hero {
            position: relative;
            width: 100%; height: 300px;
            overflow: hidden;
            background: linear-gradient(135deg, #fff5f0 0%, #ffe8dc 100%);
        }

        .hero-image { width: 100%; height: 100%; object-fit: cover; }

        .hero-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.2) 50%, transparent 100%);
            display: flex;
            align-items: center;
            padding: 0 40px;
        }

        .hero-content { color: white; max-width: 500px; }
        .hero-title { font-size: 36px; font-weight: 900; margin-bottom: 12px; text-shadow: 2px 2px 8px rgba(0,0,0,0.3); }
        .hero-subtitle { font-size: 18px; opacity: 0.95; line-height: 1.6; text-shadow: 1px 1px 4px rgba(0,0,0,0.3); }

        .hero-cta {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 28px;
            background: var(--warm-orange);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 700;
            font-size: 15px;
            transition: all 0.3s;
        }

        .hero-cta:hover { background: var(--warm-red); transform: translateY(-2px); }

        /* í‘¸í„° */
        .footer {
            background: var(--coupang-dark);
            color: #999;
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
        }

        .footer-text { font-size: 12px; line-height: 1.8; }

        /* ì¹´ì¹´ì˜¤ í”Œë¡œíŒ… */
        .kakao-float-btn {
            position: fixed;
            bottom: 24px; right: 24px;
            width: 60px; height: 60px;
            background: #FEE500;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            cursor: pointer;
            z-index: 999;
            transition: all 0.3s;
            text-decoration: none;
        }

        .kakao-float-btn:hover { transform: scale(1.1); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }
        .kakao-float-btn img { width: 36px; height: 36px; }

        /* ===== ë°˜ì‘í˜• ===== */
        @media (max-width: 768px) {
            .header-top { padding: 6px 12px; flex-direction: row; flex-wrap: wrap; justify-content: center; gap: 4px; }
            .coupang-logo { font-size: 14px; }
            .coupang-logo-text { padding: 2px 8px; font-size: 12px; }
            .header-slogan { font-size: 10px; text-align: center; width: 100%; }
            .stats-bar { gap: 6px; padding: 8px 12px; }
            .stats-row { gap: 8px; }
            .stat-item { font-size: 11px; gap: 4px; }
            .stat-item .stat-icon { font-size: 14px; }
            .stat-divider { height: 12px; }
            .popular-recipes { gap: 6px; }
            .popular-recipes .popular-label { font-size: 11px; }
            .popular-recipes .popular-list { gap: 6px; }
            .popular-recipes .popular-item { padding: 3px 8px; font-size: 11px; }
            .header-main { padding: 10px 12px; }
            .site-title { margin-bottom: 10px; }
            .site-title h1 { font-size: 20px; gap: 6px; }
            .site-title p { font-size: 12px; margin-top: 2px; }
            .search-container { max-width: 100%; }
            .search-input { padding: 10px 40px 10px 14px; font-size: 14px; border-radius: 30px; }
            .search-icon { right: 14px; font-size: 16px; }
            .search-clear { right: 38px; width: 20px; height: 20px; font-size: 12px; }
            .categories-section { padding: 12px; }
            .categories-scroll { gap: 8px; padding: 6px 0; }
            .category-btn { min-width: 70px; padding: 8px 12px; gap: 6px; border-radius: 12px; }
            .category-img { width: 36px; height: 36px; }
            .category-emoji { font-size: 24px; }
            .category-name { font-size: 11px; }
            .recipes-section { padding: 0 12px 30px; }
            .section-header { margin-bottom: 12px; }
            .section-title { font-size: 18px; gap: 6px; }
            .recipe-count { font-size: 13px; }
            .recipes-grid { grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 12px; }
            .recipe-thumbnail { height: 150px; }
            .recipe-info { padding: 12px; }
            .recipe-title { font-size: 16px; }
            .recipe-desc { font-size: 13px; }
            .recipe-meta { gap: 8px; margin-top: 10px; padding-top: 10px; }
            .recipe-meta-item { font-size: 11px; }
            .modal-info { padding: 16px; }
            .modal-title { font-size: 20px; }
            .modal-links { flex-direction: column; }
            .modal-link { justify-content: center; }
            .products-grid { grid-template-columns: repeat(2, 1fr); }
            .hero { height: 180px; }
            .hero-overlay { padding: 0 16px; background: linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%); }
            .hero-title { font-size: 20px; margin-bottom: 8px; }
            .hero-subtitle { font-size: 12px; }
            .hero-cta { padding: 8px 16px; font-size: 12px; margin-top: 12px; }
            .kakao-float-btn { bottom: 16px; right: 16px; width: 56px; height: 56px; }
            .kakao-float-btn img { width: 32px; height: 32px; }
            /* ë¦¬ë·° ëª¨ë°”ì¼ */
            .review-form-wrap { padding: 14px; }
            .stars-select label { font-size: 24px; }
            .review-form-row { flex-direction: column; }
        }

        @media (max-width: 480px) {
            .recipes-grid { grid-template-columns: 1fr; gap: 12px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-top">
            <a href="https://www.coupang.com" target="_blank" class="coupang-logo">
                <span class="coupang-logo-text">ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤</span>
                <span>ì™€ í•¨ê»˜í•˜ëŠ”</span>
            </a>
            <span class="header-slogan">ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ, ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.</span>
        </div>
        
        <div class="stats-bar" id="statsBar">
            <div class="stats-row">
                <div class="stat-item">
                    <span class="stat-icon">ğŸ‘¥</span>
                    <span>ì˜¤ëŠ˜</span>
                    <span class="stat-value" id="todayVisits">-</span>
                    <span>ëª…</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ“Š</span>
                    <span>ì´</span>
                    <span class="stat-value" id="totalVisits">-</span>
                    <span>ëª…</span>
                </div>
            </div>
            <div class="stats-row">
                <div class="popular-recipes">
                    <span class="popular-label">ğŸ”¥ ì¸ê¸°</span>
                    <div class="popular-list" id="popularList">
                        <span class="popular-item">ë¡œë”© ì¤‘...</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="header-main">
            <div class="site-title">
                <h1>ğŸ³ ë ˆë”§í”ŒëŸ¬ìŠ¤</h1>
                <p>ì˜ìƒìœ¼ë¡œ ë°°ìš°ê³ , ê¸€ë¡œ ìµíˆê³ , ì¬ë£ŒëŠ” ë°”ë¡œ êµ¬ë§¤!</p>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="ë ˆì‹œí”¼ ê²€ìƒ‰ (ì˜ˆ: ê¹€ì¹˜ì°Œê°œ, ëœì¥ì°Œê°œ...)">
                <button class="search-clear" id="searchClear">âœ•</button>
                <span class="search-icon">ğŸ”</span>
            </div>
        </div>
    </header>

    <section class="hero">
        <img src="images/1000.png" alt="ë§›ìˆëŠ” í•œì‹ ìš”ë¦¬" class="hero-image" onerror="this.style.display='none'">
        <div class="hero-overlay">
            <div class="hero-content">
                <h2 class="hero-title">ë§›ìˆëŠ” ì§‘ë°¥ ë ˆì‹œí”¼</h2>
                <p class="hero-subtitle">ì˜ìƒìœ¼ë¡œ ì‰½ê²Œ ë°°ìš°ê³ ,<br>í•„ìš”í•œ ì¬ë£ŒëŠ” ë°”ë¡œ êµ¬ë§¤í•˜ì„¸ìš”!</p>
                <a href="#recipesContainer" class="hero-cta">ğŸ³ ë ˆì‹œí”¼ ë³´ëŸ¬ê°€ê¸°</a>
            </div>
        </div>
    </section>

    <section class="categories-section">
        <div class="categories-scroll" id="categoriesContainer">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>ì¹´í…Œê³ ë¦¬ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
    </section>

    <section class="recipes-section">
        <div class="section-header">
            <h2 class="section-title">
                ğŸ“– ë ˆì‹œí”¼ ëª©ë¡
                <span class="recipe-count" id="recipeCount"></span>
            </h2>
        </div>
        <div class="recipes-grid" id="recipesContainer">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>ë ˆì‹œí”¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
    </section>

    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal" id="modal">
        <button class="modal-close" id="modalClose">âœ•</button>
        <div class="modal-content" id="modalContent"></div>
    </div>

    <footer class="footer">
        <p class="footer-text">
            Â© 2024 ë ˆë”§í”ŒëŸ¬ìŠ¤ | BSì»´í¼ë‹ˆ<br>
            ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ, ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.
        </p>
    </footer>

    <a href="http://pf.kakao.com/_qJVRX/chat" target="_blank" class="kakao-float-btn" title="ì¹´ì¹´ì˜¤í†¡ ë¬¸ì˜">
        <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png" alt="ì¹´ì¹´ì˜¤í†¡ ìƒë‹´">
    </a>

    <script>
        const SHEET_ID = '1iq0rpcyhqRayAXIdr-D4NYqZQ_J8Qvf_GFF3vgVU6bw';
        const SHEET_NAMES = { categories: 'ì¹´í…Œê³ ë¦¬', recipes: 'ë ˆì‹œí”¼', products: 'ìƒí’ˆ' };
        const STATS_API_URL = 'https://script.google.com/macros/s/AKfycbzNN0-iYulhzfw8cd1uarVetFJsTx64wJABR7UEifLmd21xE-Qq4oaCBQNCNx7RA3g/exec';

        let categoriesData = [];
        let recipesData = [];
        let productsData = [];
        let currentCategory = 'ì „ì²´';
        let searchKeyword = '';
        let isEngaged = false;

        // ============================================
        // â­ ë³„ì  ë Œë” í—¬í¼
        // ============================================
        function renderStars(rating, total = 5) {
            let html = '';
            for (let i = 1; i <= total; i++) {
                html += i <= Math.round(rating)
                    ? '<span class="star-filled">â˜…</span>'
                    : '<span class="star-empty">â˜…</span>';
            }
            return html;
        }

        function renderStarsText(rating) {
            const filled = Math.round(rating);
            return 'â˜…'.repeat(filled) + 'â˜†'.repeat(5 - filled);
        }

        // ============================================
        // ë°©ë¬¸/í´ë¦­ ê¸°ë¡
        // ============================================
        function getVisitorType() {
            const visited = localStorage.getItem('redditplus_visited');
            if (visited) return 'returning';
            localStorage.setItem('redditplus_visited', 'true');
            localStorage.setItem('redditplus_firstVisit', new Date().toISOString());
            return 'new';
        }

        function detectSource() {
            const referrer = document.referrer.toLowerCase();
            const urlParams = new URLSearchParams(window.location.search);
            const utmSource = urlParams.get('utm_source');
            if (utmSource) {
                const s = utmSource.toLowerCase();
                if (s.includes('youtube')) return 'youtube';
                if (s.includes('naver')) return 'naver';
                if (s.includes('google')) return 'google';
                if (s.includes('kakaochat')) return 'kakaochat';
                if (s.includes('kakao')) return 'kakao';
                if (s.includes('friend')) return 'friend';
                if (s.includes('tistory')) return 'tistory';
                if (s.includes('momcafe')) return 'momcafe';
                if (s.includes('instagram')) return 'instagram';
                return 'other';
            }
            if (!referrer) return 'direct';
            if (referrer.includes('youtube.com') || referrer.includes('youtu.be')) return 'youtube';
            if (referrer.includes('naver.com') || referrer.includes('naver.me')) return 'naver';
            if (referrer.includes('google.com') || referrer.includes('google.co.kr')) return 'google';
            if (referrer.includes('kakao.com') || referrer.includes('kakaocorp.com')) return 'kakao';
            if (referrer.includes('instagram.com')) return 'instagram';
            if (referrer.includes('tistory.com')) return 'tistory';
            return 'other';
        }

        async function recordVisit() {
            try {
                const source = detectSource();
                const visitorType = getVisitorType();
                await fetch(`${STATS_API_URL}?action=visit&source=${source}&visitorType=${visitorType}`, { mode: 'no-cors' });
            } catch (e) { console.error('ë°©ë¬¸ ê¸°ë¡ ì‹¤íŒ¨:', e); }
        }

        function setupBounceTracking() {
            setTimeout(() => { isEngaged = true; }, 10000);
            window.addEventListener('beforeunload', () => {
                if (!isEngaged) navigator.sendBeacon(`${STATS_API_URL}?action=bounce`);
            });
            ['click', 'scroll', 'keydown'].forEach(ev => {
                document.addEventListener(ev, () => { isEngaged = true; }, { once: true });
            });
        }

        async function recordClick(recipeId, recipeTitle) {
            try {
                await fetch(`${STATS_API_URL}?action=click&id=${recipeId}&title=${encodeURIComponent(recipeTitle || '')}`, { mode: 'no-cors' });
            } catch (e) { console.error('í´ë¦­ ê¸°ë¡ ì‹¤íŒ¨:', e); }
        }

        async function recordProductClick(productName, recipeId, link) {
            try {
                await fetch(`${STATS_API_URL}?action=productClick&name=${encodeURIComponent(productName||'')}&recipeId=${recipeId}&link=${encodeURIComponent(link||'')}`, { mode: 'no-cors' });
            } catch (e) { console.error('ìƒí’ˆ í´ë¦­ ê¸°ë¡ ì‹¤íŒ¨:', e); }
        }

        // ============================================
        // í†µê³„ ë¡œë“œ
        // ============================================
        async function loadStats() {
            try {
                const response = await fetch(`${STATS_API_URL}?action=getStats`);
                const data = await response.json();
                document.getElementById('todayVisits').textContent = (data.todayVisits || 0).toLocaleString();
                document.getElementById('totalVisits').textContent = (data.totalVisits || 0).toLocaleString();
                const popularList = document.getElementById('popularList');
                if (data.topRecipes && data.topRecipes.some(r => r.clicks > 0)) {
                    popularList.innerHTML = data.topRecipes.filter(r => r.clicks > 0)
                        .map(r => `<span class="popular-item" data-id="${r.id}">${r.title}</span>`).join('');
                    popularList.querySelectorAll('.popular-item').forEach(item => {
                        item.addEventListener('click', () => openModal(item.dataset.id));
                    });
                } else {
                    popularList.innerHTML = '<span class="popular-item">ì¿ íŒ¡ì‡¼í•‘</span><span class="popular-item">ê¹€ì¹˜ì°Œê°œ</span><span class="popular-item">ëœì¥ì°Œê°œ</span>';
                }
            } catch (e) {
                document.getElementById('todayVisits').textContent = '-';
                document.getElementById('totalVisits').textContent = '-';
                document.getElementById('popularList').innerHTML = '<span class="popular-item">ì¿ íŒ¡ì‡¼í•‘</span><span class="popular-item">ê¹€ì¹˜ì°Œê°œ</span><span class="popular-item">ëœì¥ì°Œê°œ</span>';
            }
        }

        // ============================================
        // ì‹œíŠ¸ ë°ì´í„° ë¡œë“œ
        // ============================================
        async function fetchSheetData(sheetName) {
            const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=${encodeURIComponent(sheetName)}`;
            try {
                const response = await fetch(url);
                const text = await response.text();
                const jsonText = text.substring(text.indexOf('(') + 1, text.lastIndexOf(')'));
                const json = JSON.parse(jsonText);
                if (!json.table || !json.table.rows || json.table.rows.length === 0) return [];
                const firstRow = json.table.rows[0];
                const firstCellValue = firstRow.c[0] ? firstRow.c[0].v : '';
                const isFirstRowHeader = typeof firstCellValue === 'string' && isNaN(Number(firstCellValue)) && firstCellValue !== '';
                let headers, dataRows;
                if (isFirstRowHeader) {
                    headers = firstRow.c.map(cell => cell ? (cell.v || '').toString().trim() : '');
                    dataRows = json.table.rows.slice(1);
                } else {
                    headers = json.table.cols.map(col => (col.label || '').trim());
                    dataRows = json.table.rows;
                }
                return dataRows.map(row => {
                    const obj = {};
                    if (row.c) {
                        row.c.forEach((cell, i) => {
                            const h = headers[i];
                            if (h) obj[h] = cell ? (cell.v || '') : '';
                        });
                    }
                    return obj;
                }).filter(row => Object.values(row).some(v => v !== ''));
            } catch (e) {
                console.error(`ì‹œíŠ¸ "${sheetName}" ë¡œë“œ ì‹¤íŒ¨:`, e);
                return [];
            }
        }

        async function loadAllData() {
            try {
                const [categories, recipes, products] = await Promise.all([
                    fetchSheetData(SHEET_NAMES.categories),
                    fetchSheetData(SHEET_NAMES.recipes),
                    fetchSheetData(SHEET_NAMES.products)
                ]);
                categoriesData = categories;
                recipesData = recipes;
                productsData = products;
                renderCategories();
                renderRecipes();
            } catch (e) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', e);
                showError();
            }
        }

        // ============================================
        // ì¹´í…Œê³ ë¦¬ ë Œë”
        // ============================================
        function renderCategories() {
            const container = document.getElementById('categoriesContainer');
            let html = `<button class="category-btn active" data-category="ì „ì²´"><span class="category-emoji">ğŸ“‹</span><span class="category-name">ì „ì²´</span></button>`;
            categoriesData.forEach(cat => {
                const name = cat['ì¹´í…Œê³ ë¦¬ëª…'] || cat['ì´ë¦„'] || '';
                const imgUrl = cat['ì´ë¯¸ì§€URL'] || cat['ì´ë¯¸ì§€'] || '';
                const icon = cat['ì•„ì´ì½˜'] || cat['ì´ëª¨ì§€'] || 'ğŸ½ï¸';
                if (!name) return;
                const imgHtml = imgUrl
                    ? `<img src="${imgUrl}" alt="${name}" class="category-img" onerror="this.outerHTML='<span class=\\'category-emoji\\'>${icon}</span>'">`
                    : `<span class="category-emoji">${icon}</span>`;
                html += `<button class="category-btn" data-category="${name}">${imgHtml}<span class="category-name">${name}</span></button>`;
            });
            container.innerHTML = html;
            container.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    container.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentCategory = btn.dataset.category;
                    renderRecipes();
                });
            });
        }

        // ============================================
        // ë ˆì‹œí”¼ ì¹´ë“œ ë Œë” (ë³„ì  í‘œì‹œ ì¶”ê°€)
        // ============================================
        function renderRecipes() {
            const container = document.getElementById('recipesContainer');
            const countEl = document.getElementById('recipeCount');
            let filtered = recipesData.filter(recipe => {
                const title = recipe['ì œëª©'] || '';
                const desc = recipe['ì„¤ëª…'] || '';
                const category = recipe['ì¹´í…Œê³ ë¦¬'] || '';
                if (currentCategory !== 'ì „ì²´' && category !== currentCategory) return false;
                if (searchKeyword) {
                    const kw = searchKeyword.toLowerCase();
                    return title.toLowerCase().includes(kw) || desc.toLowerCase().includes(kw);
                }
                return true;
            });
            countEl.textContent = `(${filtered.length}ê°œ)`;
            if (filtered.length === 0) {
                container.innerHTML = `<div class="empty-state"><div class="empty-state-emoji">ğŸ”</div><p class="empty-state-text">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p></div>`;
                return;
            }
            let html = '';
            filtered.forEach(recipe => {
                const id = recipe['ID'] || '';
                const title = recipe['ì œëª©'] || '';
                const desc = recipe['ì„¤ëª…'] || '';
                const category = recipe['ì¹´í…Œê³ ë¦¬'] || '';
                const imgUrl = recipe['ì´ë¯¸ì§€URL'] || recipe['ì´ë¯¸ì§€'] || '';
                const emoji = recipe['ì´ëª¨ì§€'] || 'ğŸ½ï¸';
                const duration = recipe['ì˜ìƒê¸¸ì´'] || '';
                const clicks = recipe['í´ë¦­ìˆ˜'] || 0;
                // â­ ë³„ì /ë¦¬ë·°ìˆ˜ (ë ˆì‹œí”¼ ì‹œíŠ¸ Jì—´, Kì—´)
                const avgRating = parseFloat(recipe['í‰ê· ë³„ì '] || recipe['ë³„ì '] || 0);
                const reviewCount = parseInt(recipe['ë¦¬ë·°ìˆ˜'] || 0);

                const productCount = productsData.filter(p => p['ë ˆì‹œí”¼ID'] == id).length;
                const thumbnailHtml = imgUrl
                    ? `<img src="${imgUrl}" alt="${title}" onerror="this.parentElement.innerHTML='<div class=\\'recipe-thumbnail-emoji\\'>${emoji}</div>'">`
                    : `<div class="recipe-thumbnail-emoji">${emoji}</div>`;
                const clicksBadgeHtml = clicks >= 10 ? `<span class="recipe-clicks-badge">ğŸ‘€ ${clicks}</span>` : '';

                // â­ ì¹´ë“œ ì¸ë„¤ì¼ ìœ„ ë³„ì  ë±ƒì§€
                const ratingBadgeHtml = avgRating > 0
                    ? `<span class="recipe-rating-badge"><span class="star-icon">â˜…</span>${avgRating}</span>`
                    : '';

                // â­ ì¹´ë“œ í•˜ë‹¨ ë³„ì  ë©”íƒ€
                const ratingMetaHtml = reviewCount > 0
                    ? `<span class="recipe-meta-item rating"><span class="stars-small">${renderStarsText(avgRating)}</span> <span class="review-cnt">(${reviewCount})</span></span>`
                    : '';

                html += `
                <article class="recipe-card" data-id="${id}" data-title="${title}">
                    <div class="recipe-thumbnail">
                        ${thumbnailHtml}
                        ${clicksBadgeHtml}
                        ${ratingBadgeHtml}
                        ${duration ? `<span class="recipe-duration">â±ï¸ ${duration}</span>` : ''}
                    </div>
                    <div class="recipe-info">
                        <span class="recipe-category-tag">${category}</span>
                        <h3 class="recipe-title">${title}</h3>
                        <p class="recipe-desc">${desc}</p>
                        <div class="recipe-meta">
                            <span class="recipe-meta-item">ğŸ“º ì˜ìƒ</span>
                            <span class="recipe-meta-item">ğŸ“ ë¸”ë¡œê·¸</span>
                            ${productCount > 0 ? `<span class="recipe-meta-item products">ğŸ›’ ì¬ë£Œ ${productCount}ê°œ</span>` : ''}
                            ${ratingMetaHtml}
                        </div>
                    </div>
                </article>`;
            });
            container.innerHTML = html;
            container.querySelectorAll('.recipe-card').forEach(card => {
                card.addEventListener('click', () => {
                    recordClick(card.dataset.id, card.dataset.title);
                    openModal(card.dataset.id);
                });
            });
        }

        // ============================================
        // ëª¨ë‹¬ ì—´ê¸° (ë¦¬ë·° ì„¹ì…˜ ì¶”ê°€)
        // ============================================
        function openModal(recipeId) {
            const recipe = recipesData.find(r => r['ID'] == recipeId);
            if (!recipe) return;
            const title = recipe['ì œëª©'] || '';
            const desc = recipe['ì„¤ëª…'] || '';
            const youtubeUrl = recipe['ìœ íŠœë¸Œë§í¬'] || recipe['ìœ íŠœë¸Œ'] || '';
            const blogUrl = recipe['ë¸”ë¡œê·¸ë§í¬'] || recipe['ë¸”ë¡œê·¸'] || recipe['í‹°ìŠ¤í† ë¦¬ë§í¬'] || '';
            let youtubeId = '';
            if (youtubeUrl) {
                const match = youtubeUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([^&\s?]+)/);
                if (match) youtubeId = match[1];
            }
            const products = productsData.filter(p => p['ë ˆì‹œí”¼ID'] == recipeId);
            let productsHtml = '';
            if (products.length > 0) {
                productsHtml = `
                <div class="products-section">
                    <div class="products-header">
                        <span class="products-title">ğŸ›’ í•„ìš”í•œ ì¬ë£Œ</span>
                        <span class="products-badge">${products.length}ê°œ ìƒí’ˆ</span>
                    </div>
                    <div class="products-grid">
                        ${products.map(p => {
                            const name = p['ìƒí’ˆëª…'] || '';
                            const price = p['ê°€ê²©'] || '';
                            const imgUrl = p['ì´ë¯¸ì§€URL'] || p['ì´ë¯¸ì§€'] || '';
                            const emoji = p['ì´ëª¨ì§€'] || 'ğŸ›ï¸';
                            const shop = p['ì‡¼í•‘ëª°'] || 'ì¿ íŒ¡';
                            const link = p['ì‡¼í•‘ë§í¬'] || p['ë§í¬'] || '#';
                            const safeName = name.replace(/'/g, "\\'").replace(/"/g, '\\"');
                            const safeLink = link.replace(/'/g, "\\'").replace(/"/g, '\\"');
                            const imgHtml = imgUrl
                                ? `<img src="${imgUrl}" alt="${name}" class="product-img" onerror="this.outerHTML='<div class=\\'product-emoji\\'>${emoji}</div>'">`
                                : `<div class="product-emoji">${emoji}</div>`;
                            return `<a href="${link}" target="_blank" class="product-card" onclick="recordProductClick('${safeName}','${recipeId}','${safeLink}')">${imgHtml}<div class="product-name">${name}</div>${price ? `<div class="product-price">${price}</div>` : ''}<div class="product-shop">${shop}</div></a>`;
                        }).join('')}
                    </div>
                </div>`;
            }

            // â­ ë¦¬ë·° ì„¹ì…˜ HTML
            const reviewSectionHtml = `
            <div class="review-section" id="reviewSection">
                <div class="review-header">
                    <div class="review-title-group">
                        <span class="review-title">â­ í›„ê¸°</span>
                        <div class="review-avg-score" id="reviewAvgScore">
                            <span class="stars-display">â˜…â˜…â˜…â˜…â˜…</span>
                            <span class="avg-num" id="avgRatingNum">-</span>
                            <span class="review-total" id="reviewTotalNum"></span>
                        </div>
                    </div>
                </div>

                <!-- ë¦¬ë·° ì‘ì„± í¼ -->
                <div class="review-form-wrap">
                    <div class="review-form-title">âœï¸ í›„ê¸° ì‘ì„±í•˜ê¸°</div>
                    <div class="star-rating-input">
                        <span class="label">ë³„ì </span>
                        <div class="stars-select" id="starSelect">
                            <input type="radio" name="star" id="s5" value="5"><label for="s5">â˜…</label>
                            <input type="radio" name="star" id="s4" value="4"><label for="s4">â˜…</label>
                            <input type="radio" name="star" id="s3" value="3"><label for="s3">â˜…</label>
                            <input type="radio" name="star" id="s2" value="2"><label for="s2">â˜…</label>
                            <input type="radio" name="star" id="s1" value="1"><label for="s1">â˜…</label>
                        </div>
                    </div>
                    <div class="review-form-row">
                        <input type="text" class="review-nickname-input" id="reviewNickname" placeholder="ë‹‰ë„¤ì„ (ì˜ˆ: ìš”ë¦¬ì™•)" maxlength="10">
                    </div>
                    <textarea class="review-textarea" id="reviewContent" placeholder="ì§ì ‘ ë§Œë“¤ì–´ë³´ì…¨ë‚˜ìš”? ì†”ì§í•œ í›„ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”! (5ì ì´ìƒ)" maxlength="300"></textarea>
                    <button class="review-submit-btn" id="reviewSubmitBtn" onclick="submitReview('${recipeId}')">í›„ê¸° ë“±ë¡í•˜ê¸° âœï¸</button>
                    <div class="review-message" id="reviewMessage"></div>
                </div>

                <!-- ë¦¬ë·° ëª©ë¡ -->
                <div class="review-list" id="reviewList">
                    <div class="review-loading">í›„ê¸° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                </div>
            </div>`;

            document.getElementById('modalContent').innerHTML = `
                <div class="modal-video">
                    ${youtubeId
                        ? `<iframe src="https://www.youtube.com/embed/${youtubeId}" frameborder="0" allowfullscreen></iframe>`
                        : `<div class="modal-video-placeholder">ğŸ“º ì˜ìƒ ì¤€ë¹„ ì¤‘</div>`}
                </div>
                <div class="modal-info">
                    <h2 class="modal-title">${title}</h2>
                    <p class="modal-desc">${desc}</p>
                    <div class="modal-links">
                        ${youtubeUrl ? `<a href="${youtubeUrl}" target="_blank" class="modal-link youtube">â–¶ï¸ ìœ íŠœë¸Œì—ì„œ ë³´ê¸°</a>` : ''}
                        ${blogUrl ? `<a href="${blogUrl}" target="_blank" class="modal-link blog">ğŸ“ ë¸”ë¡œê·¸ ê¸€ ë³´ê¸°</a>` : ''}
                    </div>
                    ${productsHtml}
                    ${reviewSectionHtml}
                </div>`;

            document.getElementById('modalOverlay').classList.add('show');
            document.getElementById('modal').classList.add('show');
            document.body.style.overflow = 'hidden';

            // ë¦¬ë·° ë¶ˆëŸ¬ì˜¤ê¸°
            loadReviews(recipeId);
        }

        // ============================================
        // â­ ë¦¬ë·° ë¶ˆëŸ¬ì˜¤ê¸°
        // ============================================
        async function loadReviews(recipeId) {
            try {
                const response = await fetch(`${STATS_API_URL}?action=getReviews&recipeId=${recipeId}`);
                const data = await response.json();
                const listEl = document.getElementById('reviewList');
                const avgNumEl = document.getElementById('avgRatingNum');
                const totalNumEl = document.getElementById('reviewTotalNum');
                const avgScoreEl = document.getElementById('reviewAvgScore');

                if (data.reviewCount > 0) {
                    // í‰ê·  ë³„ì  ì—…ë°ì´íŠ¸
                    if (avgNumEl) avgNumEl.textContent = data.avgRating;
                    if (totalNumEl) totalNumEl.textContent = `(${data.reviewCount}ê°œ)`;
                    if (avgScoreEl) {
                        avgScoreEl.querySelector('.stars-display').innerHTML = renderStars(data.avgRating);
                    }
                    // ë¦¬ë·° ëª©ë¡
                    if (listEl) {
                        listEl.innerHTML = data.reviews.map(rv => `
                        <div class="review-item">
                            <div class="review-item-header">
                                <div class="review-item-left">
                                    <span class="review-nickname">${rv.nickname}</span>
                                    <span class="review-stars">${renderStarsText(rv.rating)}</span>
                                </div>
                                <span class="review-date">${rv.date}</span>
                            </div>
                            <div class="review-content">${rv.content}</div>
                            ${rv.adminReply ? `
                            <div class="admin-reply">
                                <span class="admin-reply-icon">ğŸ‘¨â€ğŸ³</span>
                                <div class="admin-reply-content">
                                    <div class="admin-reply-label">ğŸ³ ë ˆë”§í”ŒëŸ¬ìŠ¤ ë‹µê¸€</div>
                                    <div class="admin-reply-text">${rv.adminReply}</div>
                                </div>
                            </div>` : ''}
                        </div>`).join('');
                    }
                } else {
                    if (avgNumEl) avgNumEl.textContent = '-';
                    if (totalNumEl) totalNumEl.textContent = '(0ê°œ)';
                    if (listEl) listEl.innerHTML = `<div class="review-empty">ì•„ì§ í›„ê¸°ê°€ ì—†ì–´ìš”. ì²« í›„ê¸°ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”! ğŸ³</div>`;
                }
            } catch (e) {
                const listEl = document.getElementById('reviewList');
                if (listEl) listEl.innerHTML = `<div class="review-empty">í›„ê¸°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>`;
            }
        }

        // ============================================
        // â­ ë¦¬ë·° ì œì¶œ
        // ============================================
        async function submitReview(recipeId) {
            const ratingInput = document.querySelector('input[name="star"]:checked');
            const nickname = document.getElementById('reviewNickname').value.trim();
            const content = document.getElementById('reviewContent').value.trim();
            const msgEl = document.getElementById('reviewMessage');
            const btnEl = document.getElementById('reviewSubmitBtn');

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!ratingInput) {
                showReviewMessage('ë³„ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”! â­', 'error');
                return;
            }
            if (content.length < 5) {
                showReviewMessage('í›„ê¸° ë‚´ìš©ì„ 5ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            btnEl.disabled = true;
            btnEl.textContent = 'ë“±ë¡ ì¤‘...';

            try {
                const params = new URLSearchParams({
                    action: 'submitReview',
                    recipeId: recipeId,
                    nickname: nickname || 'ìµëª…',
                    rating: ratingInput.value,
                    content: content
                });

                const response = await fetch(`${STATS_API_URL}?${params.toString()}`);
                const data = await response.json();

                if (data.success) {
                    showReviewMessage('í›„ê¸°ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ™', 'success');
                    // í¼ ì´ˆê¸°í™”
                    document.querySelectorAll('input[name="star"]').forEach(r => r.checked = false);
                    document.getElementById('reviewNickname').value = '';
                    document.getElementById('reviewContent').value = '';
                    // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                    setTimeout(() => loadReviews(recipeId), 1000);
                } else {
                    showReviewMessage(data.error || 'ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
                }
            } catch (e) {
                showReviewMessage('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
            } finally {
                btnEl.disabled = false;
                btnEl.textContent = 'í›„ê¸° ë“±ë¡í•˜ê¸° âœï¸';
            }
        }

        function showReviewMessage(msg, type) {
            const el = document.getElementById('reviewMessage');
            if (!el) return;
            el.textContent = msg;
            el.className = `review-message ${type}`;
            setTimeout(() => { el.className = 'review-message'; }, 4000);
        }

        // ============================================
        // ëª¨ë‹¬ ë‹«ê¸°
        // ============================================
        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('show');
            document.getElementById('modal').classList.remove('show');
            document.body.style.overflow = '';
            const iframe = document.querySelector('.modal-video iframe');
            if (iframe) iframe.src = iframe.src;
        }

        function showError() {
            document.getElementById('categoriesContainer').innerHTML = `<div class="empty-state"><div class="empty-state-emoji">âš ï¸</div><p class="empty-state-text">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>êµ¬ê¸€ ì‹œíŠ¸ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p></div>`;
            document.getElementById('recipesContainer').innerHTML = '';
        }

        // ============================================
        // ì´ˆê¸°í™”
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            recordVisit();
            setupBounceTracking();
            loadStats();
            loadAllData();

            const searchInput = document.getElementById('searchInput');
            const searchClear = document.getElementById('searchClear');
            searchInput.addEventListener('input', e => {
                searchKeyword = e.target.value.trim();
                searchClear.classList.toggle('show', searchKeyword.length > 0);
                renderRecipes();
            });
            searchClear.addEventListener('click', () => {
                searchInput.value = '';
                searchKeyword = '';
                searchClear.classList.remove('show');
                renderRecipes();
            });

            document.getElementById('modalClose').addEventListener('click', closeModal);
            document.getElementById('modalOverlay').addEventListener('click', closeModal);
            document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
        });
    </script>
</body>
</html>
